@tailwind base;
@tailwind components;
@tailwind utilities;

@media (hover: hover) {
    /*原版標記 .btn {
        @apply hover:bg-primary hover:text-black after:hover:left-0 after:hover:top-0;
        @apply active:bg-primary active:text-black after:active:left-0 after:active:top-0;
    } */


    .btn {
        @apply active:top-1.5 active:left-1.5  active:text-primary;
        @apply active:before:bottom-0 active:before:left-0 active:before:skew-x-0;
        @apply active:after:right-0 active:after:top-0 active:after:skew-y-0;
    }

    .add-btn {
        @apply relative bg-primary/70;
        @apply before:content-[''] before:absolute before:w-full before:h-2 before:-bottom-2 before:left-1 before:bg-primary/50 before:skew-x-[45deg];
        @apply after:content-[''] after:absolute after:-right-2 after:top-1 after:w-2 after:h-full after:border after:border-b-0 after:border-r-0 after:border-t-0 after:border-primary after:bg-primary/20 after:skew-y-[45deg];
    }

    .add-btn--active {
        @apply left-1 top-1;
        @apply before:-bottom-1 before:left-0.5 before:h-1;
        @apply after:-right-1 after:top-0.5 after:w-1;
    }

    /*
    
    0426後記:
    目前使用鍵盤控制enter可以有按鍵按下的效果，滑鼠點擊也可以有效果，
    小問題: 滑鼠押著不放，往旁邊滑動，會出現問題，可以使用mouseout之類的解決吧?
    
    https://medium.com/@shizukuichi/mouse-event-%E5%B0%8F%E7%AD%86%E8%A8%98-feb5dd866b0
    
    */





    /* 使用css:active:  
    
    #add-btn {
        @apply active:left-1 active:top-1;
        @apply active:before:-bottom-1 active:before:left-0.5 active:before:h-1 active:after:-right-1 active:after:top-0.5 active:after:w-1
    } */

    
}

@layer base {
    i {
        @apply pointer-events-none;
    }
}

@layer components{

    .btn {
        @apply relative py-1 px-3 left-0 top-0 text-primary border border-primary bg-secondary transition-all duration-100; 
        @apply before:content-[''] before:absolute before:-z-10 before:left-1 before:-bottom-1.5 before:w-full before:h-1.5 before:rounded-sm before:skew-x-[45deg] before:bg-primary before:transition-all before:duration-75;
        @apply after:content-[''] after:absolute after:-z-10  after:top-1 after:-right-1.5 after:h-full after:w-1.5 after:rounded-sm after:skew-y-[45deg] after:bg-primary after:transition-all after:duration-75;
    }


    .content {
        @apply mx-auto px-5;
    }
    
    .btn--black{
        @apply text-black;
    }


    /* ---hamburger基本樣式--- */
    .hamburger{
        @apply relative w-full h-0.5 bg-primary rounded-lg;
    }

    .hamburger::before,
    .hamburger::after{
        @apply rounded-lg bg-primary;
        content:'';
        position: absolute;
        left: 0;
        width: 100%;
        height: 2px;
    }

    .hamburger::before{
        top: -8px;
        transform: rotate(0deg);
    }

    .hamburger::after{
        top: 8px;
        transform: rotate(-0deg);
    }

    /* status bar */
    .status-bar {
        @apply flex items-center w-full mt-20;
    }
    
    .status-bar__btn {
        @apply flex items-center justify-center italic font-bold text-center py-2 border-b border-primary;
    }

    .status-bar__all-btn {
        @apply flex-[1_1_25%] border-r-0;
    }

    .status-bar__active-btn {
        @apply flex-[1_1_35%] border-r-0;
    }

    .status-bar__completed-btn {
        @apply flex-[1_1_40%];
    }

    .status-bar__btn--active {
        @apply border-b-2 border-primary text-primary;
    }

    .todo-item {
        @apply flex flex-col items-center px-2 py-2;
        @apply border-b border-primary/25;
    }

    .todo-checkbox {
        @apply appearance-none flex items-center justify-center flex-shrink-0 w-4 h-4 border border-primary rounded-sm cursor-pointer;
    }

    .todo-checkbox:checked +.todo-text{
        @apply line-through text-primary/60;
    }

    .todo-checkbox:checked::before {
        @apply content-[''] w-2 h-2 bg-primary/80 rounded-sm;
    }

    .todo-text {
        @apply ml-2 pl-2 mr-1.5 pr-1.5 my-1 py-1 cursor-pointer focus-visible:outline-none decoration-2 pointer-events-none bg-transparent;
        /* @apply font-bold; */
    }

    .todo-text[contenteditable="true"] {
        @apply border border-dashed border-current;
    }

    .todo-option-btn{
        @apply p-2 ml-auto;
    }
    
    .todo-option-btn__dot{
        @apply w-[3px] h-[3px] mb-0.5 rounded-full bg-primary pointer-events-none;
    }
    
    .todo-option-btn__dot:last-child {
        @apply mb-0;
    }

    .todo-option {
        @apply flex justify-start items-center ml-6 w-full;
        @apply transition-all duration-500;
        
        @apply ml-14; /* 此設定可讓todo-option與btn對齊 */
        @apply max-h-0 invisible opacity-0 mt-0 mb-0;
        /* @apply max-h-[100px] visible opacity-100 mt-2 my-4; */
    }

    .todo-option--open {
        /* @apply scale-y-0 opacity-0;*/
        @apply max-h-[100px] visible opacity-100 mt-2 my-4;
        /* @apply min-h-full;*/
    }
}






@layer utilities{
    /* ---hide & show--- */
    .hide{
        @apply invisible opacity-0;
    }

    .show{
        @apply visible opacity-100;
    }


    /* ---hamburger-expand--- */
    .hamburger-expand{
        @apply bg-transparent transition-colors duration-200;
        @apply before:top-0 before:rotate-45;
        @apply after:top-0 after:-rotate-45;
    }

    .hamburger-expand{
        transition: background-color 200ms ease-in 200ms;
    }

    .hamburger-expand::before,
    .hamburger-expand::after {
        transition: top 300ms ease-in 200ms, transform 600ms ease-in, width ease-in 500ms; 
    }


    /* ---hamburger-collapse--- */
    .hamburger-collapse{
        @apply before:-top-2 before:rotate-0 ;
        @apply after:top-2 after:-rotate-0 ;
    } 

    .hamburger-collapse{
        transition: background-color 200ms ease-in 200ms;
    }

    .hamburger-collapse::before,
    .hamburger-collapse::after {
        transition: top 300ms ease-in, transform 500ms ease-in; 
    }

    /* hamburger change to arrow */
    .hamburger-arrow {
        @apply bg-transparent transition-all;
        @apply before:-rotate-45 before:-top-1.5 before:w-3/4;
        @apply after:rotate-45 after:top-1.5 after:w-3/4;
    }

    .hamburger-arrow::before, 
    .hamburger-arrow::after {
        transition: top 500ms ease-in, transform 500ms ease-in, width ease-in 200ms;
    }

    .animation-fade-in {
        animation: fade-in 300ms forwards ease-in-out;
    }

    .animation-fade-out {
        animation: fade-out 300ms forwards ease-in-out;
    }

}

@keyframes fade-in{
    0%{
        @apply opacity-0;
    }

    100%{
        @apply opacity-100;
    }
}

@keyframes fade-out{
    0%{
        @apply opacity-100;
    }

    100%{
        @apply opacity-0;
    }
}